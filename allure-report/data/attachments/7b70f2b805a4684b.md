# Test info

- Name: [E2E] [UI] [Products] [Create] >> Create product with smoke data
- Location: /home/runner/work/Playwright/Playwright/src/ui/tests/SalesPortal/products/e2e/add-new-product.spec.ts:9:7

# Error details

```
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

Locator: locator('.welcome-text')
Expected: visible
Received: <element(s) not found>
Call log:
  - expect.toBeVisible with timeout 5000ms
  - waiting for locator('.welcome-text')
    - waiting for" https://anatoly-karpovich.github.io/aqa-course-project/" navigation to finish...
    - navigated to "https://anatoly-karpovich.github.io/aqa-course-project/#"

    at HomePage.call (/home/runner/work/Playwright/Playwright/src/ui/pages/salePortal.page.ts:14:38)
    at _test.test.step.box (/home/runner/work/Playwright/Playwright/src/utils/reporter.utils.ts:12:49)
    at HomePage.waitForOpened (/home/runner/work/Playwright/Playwright/src/utils/reporter.utils.ts:12:19)
    at HomeUIService.openAsLoggedInUser (/home/runner/work/Playwright/Playwright/src/ui/services (business)/home.ui-service.ts:35:25)
```

# Page snapshot

```yaml
- img
- text: Sales Portal
- separator
- list:
  - listitem:
    - link "Home":
      - /url: "#"
      - img
      - text: Home
  - listitem:
    - link "Orders":
      - /url: "#"
      - img
      - text: Orders
  - listitem:
    - link "Products":
      - /url: "#"
      - img
      - text: Products
  - listitem:
    - link "Customers":
      - /url: "#"
      - img
      - text: Customers
  - listitem:
    - link "Managers":
      - /url: "#"
      - img
      - text: Managers
- switch "Dark mode"
- text: Dark mode
- separator
- link "RELOGIN!":
  - /url: "#"
  - strong: RELOGIN!
- text:   Products
- heading "Add New Product" [level=2]
- text: Name *
- textbox "Name *": TestVita jZnesjIJULPmcQPVCtRtxUUmBADEqoM
- text: Manufacturer *
- combobox "Manufacturer *":
  - option "Apple"
  - option "Samsung"
  - option "Google" [selected]
  - option "Microsoft"
  - option "Sony"
  - option "Xiaomi"
  - option "Amazon"
  - option "Tesla"
- text: Price *
- textbox "Price *": "82593"
- text: Amount *
- textbox "Amount *"
- text: Notes
- textbox "Notes": Notes VEJGBVkyVDwWhBRIVkaAOAbMWdTwVnkQKsexaQtNdaiXATvYghXPRLjJDpwjifrRPJdbYkcRBwsNNyGWgfmIeEFxixttRqbjdYmOaXKynRIheNiRQjusXZmixWjCDlALWxUTDohlNkiogKQROTRvXsOXHsJYjZWELcrFNcTHCFvcgZMyIDaIATRQZHjVTYezzlkvLmJYGiqUoxXnzTPzaPleFyKTYiXDQTlGyOyDDyjcTnuLsTbe
- button "Save New Product" [disabled]
- button "Clear all"
```

# Test source

```ts
   1 | import { expect, Locator, Page } from "@playwright/test";
   2 | import { SALES_PORTAL_URL } from "config/environment";
   3 | import { BasePage } from "./base.page";
   4 | import { logStep } from "utils/reporter.utils";
   5 |
   6 | export abstract class SalesPortalPage extends BasePage {
   7 |   abstract uniqueElement: Locator;
   8 |
   9 |   readonly spinner = this.page.locator(".spinner-border");
  10 |   readonly notification = this.page.locator(".toast-body");
  11 |
  12 |   @logStep("UI: Wait for Page to Open")
  13 |   async waitForOpened() {
> 14 |     await expect(this.uniqueElement).toBeVisible();
     |                                      ^ Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  15 |     await this.waitForSpinner();
  16 |   }
  17 |
  18 |   @logStep("UI: Wait for Spinner to Disappear")
  19 |   async waitForSpinner() {
  20 |     await expect(this.spinner).toHaveCount(0);
  21 |   }
  22 |
  23 |   @logStep("UI: Wait for Notification to Appear")
  24 |   async waitForNotification(text: string) {
  25 |     await expect(this.notification.last()).toHaveText(text);
  26 |   }
  27 |
  28 |   @logStep("UI: Open Sales Portal")
  29 |   async openPortal() {
  30 |     this.page.goto(SALES_PORTAL_URL);
  31 |   }
  32 | }
  33 |
```

# Local changes

```diff
diff --git a/.github/workflows/ui.yml b/.github/workflows/ui.yml
index 1774ce8..c7778af 100644
--- a/.github/workflows/ui.yml
+++ b/.github/workflows/ui.yml
@@ -1,10 +1,10 @@
 name: Run playwright UI tests
 on:
   workflow_dispatch: # Manually trigger the workflow
-  # push:
-  #   branches:
-  #     - main
-  # pull_request:
+  push:
+    branches:
+      - main
+  pull_request:
 jobs:
   test:
     timeout-minutes: 60
@@ -28,12 +28,10 @@ jobs:
         env:
           USER_LOGIN: ${{ secrets.USER_LOGIN }}
           USER_PASSWORD: ${{ secrets.USER_PASSWORD }}
-          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
-          TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
         run: npm run test:ui
         continue-on-error: true
 
-      # Create Allure report
+      # Create Allure reportAdd commentMore actions
       - name: Create Allure report
         run: npm run allure-report
 
diff --git a/playwright.config.ts b/playwright.config.ts
index 5511bdd..35e1266 100644
--- a/playwright.config.ts
+++ b/playwright.config.ts
@@ -25,7 +25,7 @@ export default defineConfig({
   /* Opt out of parallel tests on CI. */
   workers: process.env.CI ? 1 : undefined,
   /* Reporter to use. See https://playwright.dev/docs/test-reporters */
-  reporter: [["html"], ["allure-playwright"]],
+  reporter: [["html"], ["list"], ["allure-playwright"]],
   /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */
   use: {
     /* Base URL to use in actions like `await page.goto('/')`. */
```